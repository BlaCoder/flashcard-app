/* Reset básico e tokens */
:root{
  --bg:#0b0c10; /* fundo escuro confortável */
  --surface:#12141a;
  --card:#171a22;
  --text:#e8ecf1;
  --muted:#a6b0c3;
  --primary:#3fa34d;
  --primary-ink:#0b1a0b;
  --danger:#ff5c5c;
  --success:#4cd964;
  --shadow: 0 6px 24px rgba(0,0,0,.35), 0 2px 8px rgba(0,0,0,.25);
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, Noto Sans, "Apple Color Emoji","Segoe UI Emoji";
  background:var(--bg); color:var(--text);
}

/* Cabeçalho */
.app-header{position:sticky; top:0; z-index:10; display:flex; align-items:center; justify-content:space-between; padding:12px 16px; background:linear-gradient(180deg, rgba(0,0,0,.35), rgba(0,0,0,0)), var(--surface); backdrop-filter:saturate(1.2) blur(6px); border-bottom:1px solid rgba(255,255,255,.08)}
.app-header h1{font-size:20px; margin:0}

.view{display:none; padding:12px 12px calc(12px + env(safe-area-inset-bottom)); max-width:720px; margin:0 auto}
.view.active{display:block}

.toolbar{display:flex; gap:8px; align-items:center}
@media (max-width:480px){.toolbar{flex-wrap:wrap}}

.input{width:100%; padding:12px 14px; border-radius:12px; border:1px solid rgba(255,255,255,.08); background:var(--card); color:var(--text)}
.input:focus{outline:2px solid rgba(63,163,77,.5)}
.input.hanzi{font-size:22px}
.label{display:block; font-size:13px; color:var(--muted); margin:8px 2px}

.btn{padding:12px 14px; border-radius:12px; border:1px solid rgba(255,255,255,.08); background:#1f2330; color:var(--text); cursor:pointer}
.btn.primary{background:var(--primary); color:#fff; border-color:transparent}
.btn.success{background:var(--success); color:#000}
.btn.danger{background:var(--danger); color:#000}
.btn.ghost{background:transparent; border-color:rgba(255,255,255,.12)}
.btn:active{transform:translateY(1px)}
.icon-btn{background:transparent; border:1px solid rgba(255,255,255,.12); color:var(--text); padding:8px 10px; border-radius:10px; cursor:pointer}

.card-list{list-style:none; margin:12px 0; padding:0; display:grid; grid-template-columns:1fr; gap:10px}
.card-list.compact .card{padding:10px}
.card{background:var(--card); border:1px solid rgba(255,255,255,.08); border-radius:14px; padding:14px; box-shadow:var(--shadow)}
.card .row{display:flex; align-items:center; justify-content:space-between; gap:8px}
.card .title{font-size:16px; font-weight:600}
.card .muted{font-size:13px; color:var(--muted)}
.card .actions{display:flex; gap:6px}

.subheader{position:sticky; top:52px; z-index:9; display:grid; grid-template-columns:auto 1fr auto; align-items:center; gap:8px; padding:10px 12px; background:linear-gradient(180deg, rgba(0,0,0,.25), rgba(0,0,0,0)), var(--surface); border-bottom:1px solid rgba(255,255,255,.08)}
.subheader h2{margin:0; font-size:18px}

.editor{padding:8px 4px}
.editor .grid{display:grid; gap:10px}
.editor-actions{display:flex; justify-content:space-between; gap:10px; margin-top:16px}

.details summary{cursor:pointer; color:var(--muted); margin:8px 0}

.hanzi-box{display:flex; flex-direction:column; align-items:center; justify-content:center; padding:18px 12px}
.hanzi{font-size:96px; line-height:1.1; text-align:center; letter-spacing:2px}
.assist{margin-top:8px; color:var(--muted); font-size:18px}
.hidden{display:none}

.examples{display:flex; flex-direction:column; gap:8px; margin:8px 0}
.examples .ex{background:#0f1219; border:1px solid rgba(255,255,255,.08); border-radius:12px; padding:10px; font-size:16px}

.answer{position:sticky; bottom:calc(6px + env(safe-area-inset-bottom)); display:flex; gap:8px; background:linear-gradient(180deg, rgba(0,0,0,0), rgba(0,0,0,.35)); padding-top:6px}
.answer .input{flex:1}

.study-actions{display:flex; gap:8px; margin-top:8px}
.progress{margin-top:10px; color:var(--muted)}

.switch{display:inline-flex; align-items:center; gap:6px; font-size:13px; color:var(--muted)}
.switch input{width:18px; height:18px}

.tip{color:var(--muted); font-size:13px; margin:16px 6px}

.toast{position:fixed; left:50%; bottom:calc(16px + env(safe-area-inset-bottom)); transform:translateX(-50%); background:#111; color:#fff; border:1px solid rgba(255,255,255,.15); padding:10px 14px; border-radius:12px; opacity:0; pointer-events:none; transition:opacity .25s, transform .25s}
.toast.show{opacity:1; transform:translateX(-50%) translateY(-6px)}

/* Estados de validação */
.input.error{border-color:var(--danger)}
.input.ok{border-color:var(--success)}
